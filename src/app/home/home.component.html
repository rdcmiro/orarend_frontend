<app-logged-header></app-logged-header>

<div class="home-container">
  <!-- Bal: √ìrarend -->
  <div class="schedule-section">
    <h2>√ìrarend</h2>

    <table
      mat-table
      [dataSource]="lessons"
      class="mat-elevation-z8 lesson-table"
      *ngIf="lessons.length > 0; else noLessons"
    >
      <ng-container matColumnDef="day">
        <th mat-header-cell *matHeaderCellDef>Nap</th>
        <td mat-cell *matCellDef="let lesson">{{ lesson.day }}</td>
      </ng-container>

      <ng-container matColumnDef="subject">
        <th mat-header-cell *matHeaderCellDef>Tant√°rgy</th>
        <td mat-cell *matCellDef="let lesson">{{ lesson.subject }}</td>
      </ng-container>

      <ng-container matColumnDef="teacher">
        <th mat-header-cell *matHeaderCellDef>Tan√°r</th>
        <td mat-cell *matCellDef="let lesson">{{ lesson.teacher }}</td>
      </ng-container>

      <ng-container matColumnDef="time">
        <th mat-header-cell *matHeaderCellDef>Id≈ëpont</th>
        <td mat-cell *matCellDef="let lesson">
          {{ lesson.startTime }} - {{ lesson.endTime }}
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>

    <ng-template #noLessons>
      <div class="schedule-placeholder">
        üìÖ Nincs m√©g √≥ra felv√©ve.
      </div>
    </ng-template>
  </div>

  <!-- K√∂z√©p: Teend≈ëk (ugyanolyan st√≠lus) -->
  <div class="todo-section">
    <h2>Teend≈ëk</h2>

    <table
      mat-table
      [dataSource]="todos"
      class="mat-elevation-z8 lesson-table"
      *ngIf="todos.length > 0; else noTodos"
    >
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>√Ållapot</th>
        <td mat-cell *matCellDef="let todo">
          <mat-checkbox [(ngModel)]="todo.done"></mat-checkbox>
        </td>
      </ng-container>

      <ng-container matColumnDef="text">
        <th mat-header-cell *matHeaderCellDef>Teend≈ë</th>
        <td mat-cell *matCellDef="let todo">{{ todo.text }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="todoColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: todoColumns"></tr>
    </table>

    <ng-template #noTodos>
      <div class="schedule-placeholder">
        ‚úÖ Minden k√©sz, nincs teend≈ë!
      </div>
    </ng-template>
  </div>

  <!-- Jobb oldali sidebar -->
  <div class="sidebar">
    <button
      mat-raised-button
      color="accent"
      class="add-button"
      (click)="onAddLesson()"
    >
      + √ìra hozz√°ad√°sa
    </button>
  </div>
</div>
