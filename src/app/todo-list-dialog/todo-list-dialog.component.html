<h2 mat-dialog-title class="dialog-title">ğŸ—“ï¸ TeendÅ‘k kezelÃ©se</h2>

<div class="dialog-body" *ngIf="!loading; else loadingBlock">
  <ng-container *ngIf="todos.length > 0; else noTodos">
    <div class="todo-list">
      <div
        *ngFor="let todo of todos"
        class="todo-card"
        [class.done]="todo.isItDone"
        [@shrinkOut]
      >
        <!-- FejlÃ©c: cÃ­m + checkbox -->
        <div class="todo-header">
          <h3 class="todo-title">{{ todo.title }}</h3>
          <mat-checkbox
            [checked]="todo.isItDone"
            (change)="toggleDone(todo)"
            color="primary"
          ></mat-checkbox>
        </div>

        <!-- LeÃ­rÃ¡s -->
        <p class="description">{{ todo.description }}</p>

        <!-- LÃ¡b: hÃ¡tralÃ©vÅ‘ idÅ‘ badge -->
        <div class="footer">
          <span
            class="remaining"
            [ngStyle]="{
              color: getRemainingColor(todo),
              borderColor: getRemainingColor(todo),
              background: getRemainingColor(todo) + '22'
            }"
            [class.expired]="getRemainingTime(todo) === 'â° LejÃ¡rt'"
          >
            â± {{ getRemainingTime(todo) }}
          </span>
        </div>

        <!-- TÃ¶rlÃ©s gomb -->
        <button
          mat-raised-button
          color="warn"
          class="delete-button"
          (click)="deleteTodo(todo.id!)"
        >
          ğŸ—‘ï¸ TÃ¶rlÃ©s
        </button>
      </div>
    </div>
  </ng-container>
</div>

<!-- BetÃ¶ltÃ©s -->
<ng-template #loadingBlock>
  <div class="loading-block">
    <p>ğŸ”„ BetÃ¶ltÃ©s...</p>
  </div>
</ng-template>

<!-- Ãœres lista -->
<ng-template #noTodos>
  <div class="no-todos">
    <p>ğŸ“­ Nincs felvett teendÅ‘.</p>
  </div>
</ng-template>

<!-- LÃ¡b (bezÃ¡rÃ¡s gomb) -->
<div mat-dialog-actions align="end" class="dialog-actions">
  <button mat-stroked-button color="accent" (click)="close()">
    BezÃ¡rÃ¡s
  </button>
</div>
